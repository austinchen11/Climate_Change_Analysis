---
title: "temp"
output:
  html_document: default
  pdf_document: default
date: "2022-11-09"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(openxlsx)
library(ggplot2)
library(mi)

```

```{r}
df_gdp_discard <- read.csv("gdp_discard.csv")

country_gdp_discard = c("United States", "Canada", "France", "Germany", "United Kingdom of Great Britain and Northern Ireland", "Italy", "Japan")
fig_gdp1 <- ggplot( subset(df_gdp_discard, Country.or.Area %in% country_gdp_discard & Item %in% "Gross Domestic Product (GDP)"), aes(x = Year, y = Value, color = Country.or.Area, group = Country.or.Area)) +
  geom_line()

plot(fig_gdp1)
```
We found that Japan and US are two outliers, which have GPD much higher than other countries. Intuitively, the GDP for these two countries does not make sense; therefore, we searched for other datasets and decided to use a new dataset that had the correct GDP for each country.

```{r}
df_gdp <- read.csv("gdp.csv")

top10_gdp_2021 <- df_gdp[df_gdp$Subject == "Gross Domestic Product (GDP); millions" & df_gdp$TIME == 2021 & df_gdp$Measure == "USD, current prices, current PPPs",]
top10_gdp_2021[ order(top10_gdp_2021$Value,decreasing = TRUE), ][0:14,]
```
top ten countries which have the highest GDP in 2021 (in USD, current prices, current PPPs): USA, India, Japan, Germany, Indonesia, France, Brazil, UK, Italy, Mexico
the dataset doesn't contain China's GDP value in 2021 (but does contain from 1970-2020); this is not reflected as a null value in the dataset

```{r}
country_gdp = c("United States", "India", "Japan", "Germany", "Indonesia", "France", "Brazil", "United Kingdom", "Italy", "Mexico", "China (People's Republic of)")
fig_gdp2 <- ggplot( subset(df_gdp, Country %in% country_gdp & Subject %in% "Gross Domestic Product (GDP); millions" & Measure %in% "USD, current prices, current PPPs"), aes(x = Time, y = Value, color = Country, group = Country)) +
  geom_line()
plot(fig_gdp2)
```
```{r}
fig_pop1 <- ggplot( subset(df_gdp, Country %in% country_gdp & Subject %in% "Total population; persons; thousands"), aes(x = Time, y = Value, color = Country, group = Country)) +
  geom_line()
plot(fig_pop1)
```
In the original population density and population growth dataset, we found that it only contains population in 2010, 2015, 2020, 2022, which are not enough;
we found another dataset that contains more comprehensive population data.

```{r}
selected_country = c("CAN", "DEU", "FRA", "GBR", "ITA", "JPN", "USA", "WLD")

df_air_pollution <- read.csv("Air_pollution.csv")

fig_pollution1 <- ggplot( subset(df_air_pollution, LOCATION %in% selected_country &  MEASURE %in% "MICGRCUBM"), aes(x = TIME, y = Value, color = LOCATION, group = LOCATION)) +
  geom_line()

fig_pollution2 <- ggplot( subset(df_air_pollution, LOCATION %in% selected_country &  MEASURE %in% "PC_POP"), aes(x = TIME, y = Value, color = LOCATION, group = LOCATION)) +
  geom_line()

<<<<<<< HEAD

=======
plot(fig_pollution1)
# 2015 spike; before/after 2019
>>>>>>> 98f7ac31667993c989fac2d333e65215c6e50b32
```

https://www.who.int/data/gho/data/themes/air-pollution/who-air-quality-database

```{r}
df_who_air_pollution <- read.xlsx("who_air_pollution.xlsx", sheet = 2)
  
x <- missing_data.frame(df_who_air_pollution)
image(x)
```




















